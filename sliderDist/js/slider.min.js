class Slider{constructor(t,e){void 0===e&&(e={navigation:!0,dots:!0,counter:!0,animationIn:"fadeInRight",animationOut:"fadeOutLeft",animationDuration:300,autoplay:!0,autoplayReversed:!1,autoplayTimeout:5e3,itemClass:""}),this._root=void 0!==t&&t?t:"#slider",this._slides=document.querySelectorAll(this._root+" .slider--item"),this._slidesCount=this._slides.length,this._next=document.querySelector(this._root+" .slider--next"),this._prev=document.querySelector(this._root+" .slider--previous"),this._dots=document.querySelector(this._root+" .slider--dots"),this._counter=document.querySelector(this._root+" .slider--counter"),this._currentIndex=0,this._isDisabled=!1,this.navigation=e.navigation,this.dots=e.dots,this.counter=e.counter,this.animationIn=e.animationIn,this.animationOut=e.animationOut,this.animationDuration=e.animationDuration,this.autoplay=e.autoplay,this.autoplayReversed=e.autoplayReversed,this.autoplayTimeout=e.autoplayTimeout,this.itemClass=e.itemClass}setRoot(t){void 0!==t&&t?this._root=t:this._root,document.querySelector(this._root).tabIndex="0"}getIndex(){return this._currentIndex}getPrevIndex(){return 0===this._currentIndex?this._slidesCount-1:this._currentIndex-1}getNextIndex(){return(this._currentIndex+1)%this._slidesCount==0?0:this._currentIndex+1}setIndex(t){var e;return(t&&t<this._slidesCount||0===t)&&(e=this._currentIndex,this._currentIndex=t,this._updateSlider(e)),this._currentIndex}_getAnimationKeyframes(t){switch(t){case"fadeIn":return[{opacity:0},{opacity:1}];case"fadeOut":return[{opacity:1},{opacity:0}];case"fadeInRight":return[{opacity:0,transform:"translate3d(100%, 0, 0)"},{opacity:1,transform:"translateZ(0)"}];case"fadeInLeft":return[{opacity:0,transform:"translate3d(-100%, 0, 0)"},{opacity:1,transform:"translateZ(0)"}];case"fadeOutLeft":return[{opacity:1,transform:"translate3d(0, 0, 0)"},{opacity:0,transform:"translate3d(-100%, 0, 0)"}];case"fadeOutRight":return[{opacity:1,transform:"translate3d(0, 0, 0)"},{opacity:0,transform:"translate3d(100%, 0, 0)"}];case"zoomIn":return[{opacity:0,transform:"scale3d(.3,.3,.3)"},{opacity:1,offset:.5}];case"zoomOut":return[{opacity:1},{transform:"scale3d(.3,.3,.3)",opacity:0,offset:.8},{opacity:0}];case"slideInRight":return[{transform:"translate3d(100%, 0, 0)",visibility:"visible"},{transform:"translate3d(0, 0, 0)"}];case"slideOutRight":return[{transform:"translate3d(0, 0, 0)",visibility:"visible"},{transform:"translate3d(150%, 0, 0)"}];case"slideInLeft":return[{transform:"translate3d(-100%, 0, 0)",visibility:"visible"},{transform:"translate3d(0, 0, 0)"}];case"slideOutLeft":return[{transform:"translate3d(0, 0, 0)",visibility:"visible"},{transform:"translate3d(-150%, 0, 0)"}];default:return[{opacity:1},{opacity:0}]}}setItemClass(e){if(""===this.itemClass)return 0;this._slides.forEach(t=>{t.classList.add(void 0!==e&&""!==e?e:this.itemClass)})}_addListener(t,e,i){t&&t.addEventListener(e,i.bind(this))}_initDots(){if(this._dots&&!0===this.dots)for(let e=0;e<this._slidesCount;e++){let t=document.createElement("button");0===e&&t.classList.add("active"),t.classList.add("slider--dot"),t.setAttribute("dotIndex",e),t.addEventListener("click",t=>{this._handleDot(e)}),this._dots.appendChild(t)}}_activeDot(){if(void 0!==this._dots&&!0===this.dots){let t=[...this._dots.children];t.forEach(t=>{t.classList.remove("active")}),t[this.getIndex()].classList.add("active")}}_Dots(){if(!0===this.dots)return 0;this._dots.remove()}_handlePrev(){this.setIndex(this.getPrevIndex())}_handleNext(){this.setIndex(this.getNextIndex())}_handleDot(t){this.setIndex(t)}_Navigation(){if(!this.navigation)return 0;void 0!==this._prev&&this._prev&&(this._prev.style.display="block"),void 0!==this._next&&this._next&&(this._next.style.display="block")}_Counter(){if(!this.counter)return 0;var t=this.getIndex()<10?"0"+(this.getIndex()+1):this.getIndex()+1,e=this._slidesCount<10?"0"+this._slidesCount:this._slidesCount;this._counter&&(this._counter.innerHTML=`<span class="slider--counter__current">${t}</span><span class="slider--counter__divider"> / </span><span class="slider--counter__total"> ${e}</span>`)}_Autoplay(){if(!1===this.autoplay)return 0;let t=setTimeout(e.bind(this),this.autoplayTimeout);function e(){this.autoplayReversed?this._handlePrev():this._handleNext(),t=setTimeout(e.bind(this),this.autoplayTimeout)}}_showSlide(t){this._slides[t].classList.add("slider--item__active")}_hideSlide(t){this._slides[t].classList.remove("slider--item__active")}_animateSlide(t,e,i,s){let a=t.animate(e,i);a.addEventListener("finish",s)}_switchSlide(e){this._isDisabled=!0,this._animateSlide(this._slides[e],this._getAnimationKeyframes(this.animationOut),this.animationDuration,t=>{this._hideSlide(e),this._showSlide(this.getIndex()),this._animateSlide(this._slides[this.getIndex()],this._getAnimationKeyframes(this.animationIn),this.animationDuration,()=>{this._isDisabled=!1})})}_updateSlider(t=this._currentIndex){0!==this._slides&&(this._switchSlide(t),this._activeDot(),this._Counter())}show(){document.querySelector(this._root).tabIndex=0,this.dots?this._initDots():this._Dots(),this._Navigation(),this._Autoplay(),this._Counter(),this.setItemClass(),this._showSlide(this.getIndex()),this._addListener(this._next,"click",this._handleNext),this._addListener(this._prev,"click",this._handlePrev),this._addListener(document.querySelector(this._root),"keydown",t=>this._isDisabled?0:(37===t.keyCode&&this._handlePrev(),void(39===t.keyCode&&this._handleNext())))}}