class Slider{constructor(t,e){void 0===e&&(e={}),this._root=void 0!==t&&t?t:"#slider",this._slides=document.querySelectorAll(this._root+" .slider--item"),this._slidesCount=this._slides.length,this._next=document.querySelector(this._root+" .slider--next"),this._prev=document.querySelector(this._root+" .slider--previous"),this._dots=document.querySelector(this._root+" .slider--dots"),this._counter=document.querySelector(this._root+" .slider--counter"),this._currentIndex=0,this.navigation=void 0===e.navigation||e.navigation,this.dots=void 0===e.dots||e.dots,this.counter=void 0===e.counter||e.counter,this.animation=void 0===e.animation?"fadeIn":e.animation,this.animationSpeed=void 0===e.animationSpeed?1800:e.animationSpeed,this.autoplay=void 0===e.autoplay||e.autoplay,this.autoplayReversed=void 0!==e.autoplayReversed&&e.autoplayReversed,this.autoplayTimeout=void 0===e.autoplayTimeout?5e3:e.autoplayTimeout,this.itemClass=void 0===e.itemClass?"":e.itemClass}setRoot(t){void 0!==t&&t?this._root=t:this._root,document.querySelector(this._root).tabIndex="0"}getIndex(){return this._currentIndex}setIndex(t){!t&&0!==t||(this._currentIndex=t)}setItemClass(e){if(""===this.itemClass)return 0;this._slides.forEach(t=>{t.classList.add(void 0!==e&&""!==e?e:this.itemClass)})}_initDots(){if(this._dots&&!0===this.dots)for(let e=0;e<this._slidesCount;e++){let t=document.createElement("button");0===e&&t.classList.add("active"),t.classList.add("slider--dot"),t.setAttribute("dotIndex",e),t.addEventListener("click",t=>{this._handleDot(e)}),this._dots.appendChild(t)}}_activeDot(){if(void 0!==this._dots&&!0===this.dots){let t=[...this._dots.children];t.forEach(t=>{t.classList.remove("active")}),t[this.getIndex()].classList.add("active")}}_Dots(){if(!0===this.dots)return 0;this._dots.remove()}_handlePrev(){0===this.getIndex()?this.setIndex(this._slidesCount-1):this.setIndex(this.getIndex()-1),this._updateSlider()}_handleNext(){(this.getIndex()+1)%this._slidesCount==0?this.setIndex(0):this.setIndex(this.getIndex()+1),this._updateSlider()}_handleDot(t){this.setIndex(t),this._updateSlider()}_Navigation(){if(!this.navigation)return 0;void 0!==this._prev&&this._prev&&(this._prev.style.display="block"),void 0!==this._next&&this._next&&(this._next.style.display="block")}_Counter(){if(!this.counter)return 0;this._counter&&(this._counter.innerHTML=`<span class="slider--counter__current">${String(this.getIndex()<10?"0"+(this.getIndex()+1):this.getIndex()+1)} </span><span class="slider--counter__divider"> / </span> <span class="slider--counter__total"> ${String(this._slidesCount<10?"0"+this._slidesCount:this._slidesCount)}</span>`)}_Autoplay(){if(!1===this.autoplay)return 0;let t=setTimeout(e.bind(this),this.autoplayTimeout);function e(){this.autoplayReversed?this._handlePrev():this._handleNext(),t=setTimeout(e.bind(this),this.autoplayTimeout)}}_addAnimation(){this._slides.forEach(t=>{t.style.animation=`${this.animation} ${this.animationSpeed}ms`})}_updateSlider(){0!==this._slides&&(this._slides.forEach(t=>{t.classList.remove("slider--item__active")}),this._slides[this.getIndex()].classList.add("slider--item__active"),this._activeDot(),this._Counter())}_addListener(t,e,i){t&&t.addEventListener(e,i.bind(this))}show(){document.querySelector(this._root).tabIndex=0,this.dots?this._initDots():this._Dots(),this._Navigation(),this._Autoplay(),this._addAnimation(),this.setItemClass(),this._updateSlider(),this._addListener(this._next,"click",this._handleNext),this._addListener(this._prev,"click",this._handlePrev),this._addListener(document.querySelector(this._root),"keydown",t=>{37===t.keyCode&&this._handlePrev(),39===t.keyCode&&this._handleNext()})}}